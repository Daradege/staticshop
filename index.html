<!DOCTYPE html>
<html lang="fa" dir="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فروشگاه نیک - جواهرات و آکسسوری</title>
    <meta name="description" id="metads" content="فروشگاه نیک - بهترین جواهرات و آکسسوری از سنگ اونیکس طبیعی. دستبند، گردنبند و تسبیح با کیفیت عالی">
    <meta name="keywords" id="metakw" content="جواهرات, آکسسوری, دستبند, گردنبند, تسبیح, سنگ اونیکس, فروشگاه نیک">
    <link rel="stylesheet" href="/src/output.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @font-face {
            font-family: lalezar;
            src: url(assets/Lalezar-Regular.ttf);
        }
        * {
            font-family: 'lalezar', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #00796B 0%, #009688 50%, #004D40 100%);
        }
        
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .product-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 24px;
            overflow: hidden;
        }
        
        .product-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 77, 64, 0.3);
        }
        
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .slide-in {
            animation: slideIn 0.8s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 1s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .pulse-glow {
            animation: pulseGlow 2s infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 150, 136, 0.5); }
            50% { box-shadow: 0 0 40px rgba(0, 150, 136, 0.8); }
        }
        
        .hero-text {
            background: linear-gradient(45deg, #00796B, #009688, #4DB6AC);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .slider-container {
            position: relative;
            overflow: hidden;
            border-radius: 20px;
        }
        
        .slider-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        
        .slider-image {
            min-width: 100%;
            height: 400px;
            object-fit: cover;
        }
        
        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .slider-nav:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: translateY(-50%) scale(1.1);
        }
        
        .slider-nav.prev {
            left: 20px;
        }
        
        .slider-nav.next {
            right: 20px;
        }
        
        .slider-dots {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }
        
        .slider-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .slider-dot.active {
            background: white;
            transform: scale(1.2);
        }
        
        .page-transition {
            transition: all 0.5s ease-in-out;
        }
        
        .shake {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .zoom-hover {
            transition: transform 0.3s ease;
        }
        
        .zoom-hover:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 overflow-x-hidden">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-2xl sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <img id="shop-logo" src="/assets/dastband.jpeg" alt="نیک" class="w-12 h-12 rounded-full border-2 border-white shadow-lg">&nbsp;&nbsp;
                    <div>
                        <h1 id="shop-name" class="text-2xl font-bold">فروشگاه نیک</h1>
                        <p class="text-sm opacity-90" id="siteonload"></p>
                    </div>
                </div>
                <nav class="hidden md:flex items-center gap-8">
                    <a href="#home" class="nav-link hover:text-yellow-300 transition-colors duration-300 font-medium">خانه</a>
                    <a href="#products" class="nav-link hover:text-yellow-300 transition-colors duration-300 font-medium">محصولات</a>
                    <a href="#contact" class="nav-link hover:text-yellow-300 transition-colors duration-300 font-medium">تماس</a>
                </nav>
                <button class="md:hidden text-2xl" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-black bg-opacity-20 backdrop-blur-sm">
            <div class="container mx-auto px-4 py-4 space-y-2">
                <a href="#home" class="block py-2 hover:text-yellow-300 transition-colors duration-300">خانه</a>
                <a href="#products" class="block py-2 hover:text-yellow-300 transition-colors duration-300">محصولات</a>
                <a href="#contact" class="block py-2 hover:text-yellow-300 transition-colors duration-300">تماس</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Home Page -->
        <div id="home-page" class="page">
            <!-- Hero Section -->
            <section class="relative min-h-screen flex items-center justify-center gradient-bg text-white overflow-hidden">
                <div class="absolute inset-0 bg-black bg-opacity-30"></div>
                <div class="container mx-auto px-4 text-center relative z-10">
                    <div class="floating-animation">
                        <h2 class="text-6xl md:text-8xl font-bold mb-6 hero-text slide-in" id="mainname">فروشگاه نیک</h2>
                        <p class="text-xl md:text-2xl mb-8 fade-in opacity-90" id="onloadtitles">بهترین جواهرات و آکسسوری از سنگ اونیکس طبیعی</p>
                        <div class="space-y-4 md:space-y-0 md:space-x-4 md:space-x-reverse md:flex md:justify-center fade-in">
                            <button onclick="scrollToProducts()" class="px-8 py-4 bg-white text-teal-700 rounded-full font-bold text-lg hover:bg-yellow-300 hover:text-teal-800 transition-all duration-300 pulse-glow">
                                مشاهده محصولات
                            </button> &nbsp;&nbsp;
                            <button onclick="scrollToContact()" class="px-8 py-4 border-2 border-white text-white rounded-full font-bold text-lg hover:bg-white hover:text-teal-700 transition-all duration-300">
                                تماس با ما
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Floating Elements -->
                <div class="absolute top-20 right-20 w-20 h-20 bg-white bg-opacity-10 rounded-full floating-animation" style="animation-delay: -2s;"></div>
                <div class="absolute bottom-20 left-20 w-16 h-16 bg-yellow-300 bg-opacity-20 rounded-full floating-animation" style="animation-delay: -4s;"></div>
                <div class="absolute top-1/2 right-10 w-12 h-12 bg-teal-300 bg-opacity-20 rounded-full floating-animation" style="animation-delay: -1s;"></div>
            </section>

            <!-- Products Section -->
            <section id="products" class="py-20 bg-gray-50">
                <div class="container mx-auto px-4">
                    <div class="text-center mb-16">
                        <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">محصولات ما</h2>
                        <p class="text-xl text-gray-600 max-w-2xl mx-auto">مجموعه‌ای از بهترین جواهرات و آکسسوری‌های ساخته شده از سنگ اونیکس طبیعی</p>
                    </div>
                    
                    <div id="products-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Products will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="py-20 gradient-bg text-white">
                <div class="container mx-auto px-4">
                    <div class="text-center mb-16">
                        <h2 class="text-4xl font-bold mb-4">چرا فروشگاه نیک؟</h2>
                        <p class="text-xl opacity-90">کیفیت، اصالت و زیبایی در هر محصول</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="text-center p-8 glass-effect rounded-2xl zoom-hover">
                            <div class="w-16 h-16 bg-yellow-300 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-gem text-2xl text-teal-700"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">سنگ طبیعی</h3>
                            <p class="opacity-90">تمام محصولات از سنگ اونیکس درجه یک و طبیعی</p>
                        </div>
                        
                        <div class="text-center p-8 glass-effect rounded-2xl zoom-hover">
                            <div class="w-16 h-16 bg-yellow-300 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-award text-2xl text-teal-700"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">کیفیت عالی</h3>
                            <p class="opacity-90">بهترین متریال‌ها و ساخت دست‌ساز</p>
                        </div>
                        
                        <div class="text-center p-8 glass-effect rounded-2xl zoom-hover">
                            <div class="w-16 h-16 bg-yellow-300 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-shipping-fast text-2xl text-teal-700"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2">ارسال سریع</h3>
                            <p class="opacity-90">ارسال سریع و امن در سراسر کشور</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Section -->
            <section id="contact" class="py-20 bg-white">
                <div class="container mx-auto px-4">
                    <div class="text-center mb-16">
                        <h2 class="text-4xl font-bold text-gray-800 mb-4">تماس با ما</h2>
                        <p class="text-xl text-gray-600">برای سفارش و مشاوره با ما در تماس باشید</p>
                    </div>
                    
                    <div class="max-w-4xl mx-auto">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="space-y-6">
                                <div class="flex items-center space-x-4 space-x-reverse p-4 bg-gray-50 rounded-xl">
                                    <div class="w-12 h-12 bg-teal-600 rounded-full flex items-center justify-center">
                                        <i class="fas fa-map-marker-alt text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-gray-800">آدرس</h3>
                                        <p id="shop-address" class="text-gray-600"></p>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-4 space-x-reverse p-4 bg-gray-50 rounded-xl">
                                    <div class="w-12 h-12 bg-teal-600 rounded-full flex items-center justify-center">
                                        <i class="fas fa-phone text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-gray-800">تلفن</h3>
                                        <div id="shop-phones" class="text-gray-600"></div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-4 space-x-reverse p-4 bg-gray-50 rounded-xl">
                                    <div class="w-12 h-12 bg-teal-600 rounded-full flex items-center justify-center">
                                        <i class="fas fa-envelope text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-gray-800">ایمیل</h3>
                                        <p id="shop-email" class="text-gray-600"></p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="space-y-6">
                                <div class="p-6 bg-gradient-to-br from-teal-50 to-teal-100 rounded-xl">
                                    <h3 class="text-xl font-bold text-gray-800 mb-4">راه‌های ارتباطی</h3>
                                    <div class="space-y-3">
                                        <a id="shop-website" href="#" class="flex items-center space-x-3 space-x-reverse text-teal-700 hover:text-teal-800 transition-colors">
                                            <i class="fas fa-globe"></i>
                                            <span class="mr-2">وب‌سایت</span>
                                        </a>
                                        <a id="shop-bale" href="#" class="flex items-center space-x-3 space-x-reverse text-teal-700 hover:text-teal-800 transition-colors">
                                            <i class="fas fa-phone"></i>
                                            <span class="mr-2">بله</span>
                                        </a>
                                    </div>
                                </div>
                                
                                <div class="p-6 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl">
                                    <h3 class="text-xl font-bold text-gray-800 mb-4">ساعات کاری</h3>
                                    <p class="text-gray-600" id="kari">شنبه تا پنج‌شنبه: ۹:۰۰ - ۱۸:۰۰</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div id="product-page" class="page hidden">
            <div class="container mx-auto px-4 py-8">
                <button onclick="goBack()" class="mb-6 flex items-center space-x-2 space-x-reverse text-teal-600 hover:text-teal-700 transition-colors">
                    <i class="fas fa-arrow-right"></i>
                    <span>بازگشت</span>
                </button>
                
                <div id="product-detail" class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                    <!-- ... -->
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">فروشگاه نیک</h3>
                    <p class="text-gray-300" id="onloadtitle">بهترین جواهرات و آکسسوری از سنگ اونیکس طبیعی</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">لینک‌های مفید</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li><a href="#home" class="hover:text-white transition-colors">خانه</a></li>
                        <li><a href="#products" class="hover:text-white transition-colors">محصولات</a></li>
                        <li><a href="#contact" class="hover:text-white transition-colors">تماس با ما</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">شبکه‌های اجتماعی</h3>
                    <div class="flex space-x-4 space-x-reverse">
                        <a id="phone1" href="#" class="w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center hover:bg-teal-700 transition-colors">
                            <i class="fas fa-phone"></i>
                        </a>&nbsp;
                        <a id="website1" href="#" class="w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center hover:bg-teal-700 transition-colors">
                            <i class="fas fa-globe"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 1404 فروشگاه نیک. تمامی حقوق محفوظ است.</p>
            </div>
        </div>
    </footer>

    <script>
        let config = {};
        let currentSliders = {};

        async function loadConfig() {
            try {
                const response = await fetch('./config.json');
                config = await response.json();
                initializeWebsite();
            } catch (error) {
                console.error('Error loading config:', error);
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                config = {
                    "shop": {
                        "name": "نیک",
                        "onload_title": "بهترین جواهرات و آکسسوری از سنگ اونیکس طبیعی",
                        "logo": "/assets/dastband.jpeg",
                        "address": "تهران، منطقه 1، کوچه اول، پلاک یک، واحد اول",
                        "phones": ["+989123456789", "+982144886699"],
                        "email": "nik@gmail.com",
                        "selling_phone": "+989214389721",
                        "website": "https://nik-shop.ir",
                        "worktime": "شنبه تا چهارشنبه ساعت 12 تا 12",
                        "description": "جواهرات و آکسسوری",
                        "metatag": {
                            "description": "فروشگاه نیک - بهترین جواهرات و آکسسوری از سنگ اونیکس طبیعی. دستبند، گردنبند و تسبیح با کیفیت عالی",
                            "keywords": "جواهرات, آکسسوری, دستبند, گردنبند, تسبیح, سنگ اونیکس, فروشگاه نیک"
                        }
                    },
                    "products": [
                        {
                            "name": "دست‌بند",
                            "price": 20000,
                            "description": "دستبند کشی سنگی مشکی مات\nاز بهترین متریال‌ها \nجنس‌ها از پلاستیک نیستند و همگی از سنگ اونیکس هستند",
                            "images": ["/assets/dastband.jpeg", "/assets/dastband-A.jpeg"]
                        },
                        {
                            "name": "گردنبند",
                            "price": 50000,
                            "description": "گردنبند ساده مشکی مات\nمهره گردنبندها با نخ مقاوم و محکم به هم وصل هستند\nجنس مهره‌ها از سنگ اونیکس هستند و به هیچ عنوان از پلاستیک استفاده نشده",
                            "images": ["/assets/gardanband.jpeg", "/assets/gardanband-A.jpeg"]
                        },
                        {
                            "name": "تسبیح",
                            "price": 25000,
                            "description": "تسبیح مخصوص تسبیحات حضرت زهرا ( سلام الله علیها )\nک هدیه مذهبی خوب و شیک\n۳۳ مهره مشکی مات\n۱ مهره سفید\nتمام مهره ها از سنگ اونیکس درجه ۱ هستند", 
                            "images": ["/assets/tasbih.jpeg", "/assets/tasbih-A.jpeg"]
                        }
                    ],
                    "theme": {
                        "primary": "#009688",
                        "secondary": "#00796B",
                        "accent": "#004D40",
                        "background": "#ECEFF1",
                        "text": "#212121"
                    }
                };
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG
                // DONT TOUCH THIS CONFIG

                initializeWebsite();
            }
        }

        function initializeWebsite() {
            loadShopInfo();
            loadProducts();
            setupRouting();
            setupNavigation();
        }

        function loadShopInfo() {
            const shop = config.shop;
            
            document.getElementById('shop-name').textContent = shop.name;
            document.getElementById('shop-logo').src = shop.logo;
            document.getElementById('shop-logo').alt = shop.name;
            document.getElementById('shop-address').textContent = shop.address;
            document.getElementById('shop-email').textContent = shop.email;
            document.getElementById('kari').textContent = shop.worktime;
            document.getElementById('metakw').content = shop.metatag.keywords;
            document.getElementById('metads').content = shop.metatag.description;
            document.getElementById('siteonload').textContent = shop.description;
            document.getElementById('onloadtitles').textContent = shop.onload_title;
            document.getElementById('onloadtitle').textContent = shop.onload_title;
                    document.getElementById('phone1').addEventListener('click', () => {
                        window.location.href = `tel:${shop.phones[0]}`;
                    });
                    document.getElementById('website1').addEventListener('click', () => {
                        window.location.href = shop.website;
                    });
            document.getElementById('mainname').innerHTML = `فروشگاه ${shop.name}`;
            

            const phonesContainer = document.getElementById('shop-phones');
            phonesContainer.innerHTML = shop.phones.map(phone => 
                `<p class="mb-1"><a href="tel:${phone}">${phone}</a></p>`
            ).join('');
            
                    document.getElementById('shop-website').addEventListener('click', () => {
                        window.location.href = shop.website;
                    });
                    document.getElementById('shop-website').innerHTML = `<i class="fas fa-globe"></i><span>${shop.website}</span>`;
                    document.getElementById('shop-bale').addEventListener('click', () => {
                        window.location.href = `tel:${shop.phones[0]}`;
                    });
                    document.getElementById('shop-bale').innerHTML = `<i class="fas fa-phone"></i><span>${shop.phones[0]}</span>`;
            
            document.title = `${shop.name} - جواهرات و آکسسوری`;
        }

        function loadProducts() {
            const productsGrid = document.getElementById('products-grid');
            productsGrid.innerHTML = '';
            
            config.products.forEach((product, index) => {
                const productCard = createProductCard(product, index);
                productsGrid.appendChild(productCard);
            });
        }

        function createProductCard(product, index) {
            const card = document.createElement('div');
            card.className = 'product-card bg-white shadow-xl hover:shadow-2xl transition-all duration-500 cursor-pointer';
            card.onclick = () => showProductDetail(index);
            
            const formattedPrice = new Intl.NumberFormat('fa-IR').format(product.price);
            const shortDescription = product.description.split('\n')[0];
            
            card.innerHTML = `
                <div class="relative overflow-hidden">
                    <img src="${product.images[0]}" alt="${product.name}" 
                         class="w-full h-64 object-cover transition-transform duration-500 hover:scale-110">
                    <div class="absolute top-4 right-4 bg-teal-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                        ${formattedPrice} تومان
                    </div>
                    <div>
                        <div class="opacity-0 hover:opacity-100 transition-opacity duration-300">
                            <i class="fas fa-eye text-white text-4xl"></i>
                        </div>
                    </div>
                </div>
                <div class="p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">${product.name}</h3>
                    <p class="text-gray-600 mb-4 line-clamp-2">${shortDescription}</p>
                    <div class="flex items-center justify-between">
                        <button class="px-6 py-2 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition-colors duration-300 font-medium">
                            مشاهده جزئیات
                        </button>
                        <div class="text-lg font-bold text-teal-600">
                            ${formattedPrice} تومان
                        </div>
                    </div>
                </div>
            `;
            
            return card;
        }

        function showProductDetail(productIndex) {
            const product = config.products[productIndex];
            window.location.hash = `product-${productIndex}`;
            
            document.getElementById('home-page').classList.add('hidden');
            document.getElementById('product-page').classList.remove('hidden');
            
            loadProductDetail(product, productIndex);
            window.scrollTo(0, 0);
        }

        function loadProductDetail(product, productIndex) {
            const detailContainer = document.getElementById('product-detail');
            const formattedPrice = new Intl.NumberFormat('fa-IR').format(product.price);
            
            detailContainer.innerHTML = `
                <div class="space-y-6">
                    <!-- Image Slider -->
                    <div class="slider-container bg-white rounded-2xl shadow-xl overflow-hidden">
                        <div class="relative">
                            <div class="slider-track" id="slider-${productIndex}">
                                ${product.images.map(image => `
                                    <img src="${image}" alt="${product.name}" class="slider-image"
                                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzlmYTZiNyIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPtiq2LXZiNuM2LEg2YXZiNis2YjYryDZhtuM2LPYqjwvdGV4dD4KICA8L3N2Zz4K'">
                                `).join('')}
                            </div>
                            ${product.images.length > 1 ? `
                                <button class="slider-nav prev" onclick="prevSlide(${productIndex})">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                                <button class="slider-nav next" onclick="nextSlide(${productIndex})">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <div class="slider-dots">
                                    ${product.images.map((_, index) => `
                                        <div class="slider-dot ${index === 0 ? 'active' : ''}" 
                                             onclick="goToSlide(${productIndex}, ${index})"></div>
                                    `).join('')}
                                </div>
                            ` : ''}
                        </div>
                    </div>
                    
                    <!-- Thumbnail Images -->
                    ${product.images.length > 1 ? `
                        <div class="flex space-x-4 space-x-reverse overflow-x-auto pb-2">
                            ${product.images.map((image, index) => `
                                <img src="${image}" alt="${product.name}" 
                                     class="w-20 h-20 object-cover rounded-lg cursor-pointer border-2 ${index === 0 ? 'border-teal-500' : 'border-gray-200'} hover:border-teal-400 transition-colors duration-300"
                                     onclick="goToSlide(${productIndex}, ${index})"
                                     id="thumb-${productIndex}-${index}">
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
                
                <div class="space-y-8">
                    <!-- Product Info -->
                    <div class="bg-white p-8 rounded-2xl shadow-xl">
                        <div class="flex items-center justify-between mb-6">
                            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">${product.name}</h1>
                            <div class="text-3xl font-bold text-teal-600">${formattedPrice} تومان</div>
                        </div>
                        
                        <div class="mb-8">
                            <h2 class="text-xl font-bold text-gray-800 mb-4">توضیحات محصول</h2>
                            <div class="text-gray-600 leading-relaxed space-y-2">
                                ${product.description.split('\n').map(line => `<p>${line}</p>`).join('')}
                            </div>
                        </div>
                        
                        <!-- Product Features -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                            <div class="flex items-center space-x-3 space-x-reverse p-4 bg-teal-50 rounded-xl">
                                <i class="fas fa-gem text-teal-600 text-xl"></i>
                                <span class="font-medium text-gray-800">سنگ اونیکس طبیعی</span>
                            </div>
                            <div class="flex items-center space-x-3 space-x-reverse p-4 bg-green-50 rounded-xl">
                                <i class="fas fa-certificate text-green-600 text-xl"></i>
                                <span class="font-medium text-gray-800">کیفیت درجه یک</span>
                            </div>
                            <div class="flex items-center space-x-3 space-x-reverse p-4 bg-blue-50 rounded-xl">
                                <i class="fas fa-hand-holding-heart text-blue-600 text-xl"></i>
                                <span class="font-medium text-gray-800">ساخت دستی</span>
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="flex flex-col md:flex-row gap-4">
                            <button onclick="contactForOrder('${product.name}')" 
                                    class="flex-1 px-8 py-4 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-xl font-bold text-lg hover:from-teal-700 hover:to-teal-800 transition-all duration-300 shadow-lg hover:shadow-xl pulse-glow">
                                <i class="fas fa-shopping-cart ml-2"></i>
                                سفارش محصول
                            </button>
                        </div>
                    </div>
                    
                    <!-- Related Products -->
                    <div class="bg-white p-8 rounded-2xl shadow-xl">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">محصولات مشابه</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            ${getRelatedProducts(productIndex).map(relatedProduct => `
                                <div class="flex items-center space-x-4 space-x-reverse p-4 border border-gray-200 rounded-xl hover:border-teal-300 hover:shadow-md transition-all duration-300 cursor-pointer"
                                     onclick="showProductDetail(${relatedProduct.index})">
                                    <img src="${relatedProduct.product.images[0]}" alt="${relatedProduct.product.name}" 
                                         class="w-16 h-16 object-cover rounded-lg">
                                    <div class="flex-1">
                                        <h3 class="font-bold text-gray-800">${relatedProduct.product.name}</h3>
                                        <p class="text-teal-600 font-medium">${new Intl.NumberFormat('fa-IR').format(relatedProduct.product.price)} تومان</p>
                                    </div>
                                    <i class="fas fa-chevron-left text-gray-400"></i>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            if (product.images.length > 1) {
                currentSliders[productIndex] = {
                    currentSlide: 0,
                    totalSlides: product.images.length
                };
            }
        }

        function getRelatedProducts(currentIndex) {
            return config.products
                .map((product, index) => ({ product, index }))
                .filter(item => item.index !== currentIndex)
                .slice(0, 2);
        }

        function nextSlide(productIndex) {
            const slider = currentSliders[productIndex];
            if (!slider) return;
            
            slider.currentSlide = (slider.currentSlide + 1) % slider.totalSlides;
            updateSlider(productIndex);
        }

        function prevSlide(productIndex) {
            const slider = currentSliders[productIndex];
            if (!slider) return;
            
            slider.currentSlide = slider.currentSlide === 0 ? slider.totalSlides - 1 : slider.currentSlide - 1;
            updateSlider(productIndex);
        }

        function goToSlide(productIndex, slideIndex) {
            const slider = currentSliders[productIndex];
            if (!slider) return;
            
            slider.currentSlide = slideIndex;
            updateSlider(productIndex);
        }

        function updateSlider(productIndex) {
            const slider = currentSliders[productIndex];
            const sliderTrack = document.getElementById(`slider-${productIndex}`);
            const dots = document.querySelectorAll(`#product-detail .slider-dot`);
            const thumbs = document.querySelectorAll(`[id^="thumb-${productIndex}-"]`);
            
            if (sliderTrack) {
                sliderTrack.style.transform = `translateX(${slider.currentSlide * 100}%)`;
            }
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === slider.currentSlide);
            });
            
            thumbs.forEach((thumb, index) => {
                thumb.classList.toggle('border-teal-500', index === slider.currentSlide);
                thumb.classList.toggle('border-gray-200', index !== slider.currentSlide);
            });
        }

        function contactForOrder(productName) {
            
            
            showContactOptions(productName);
        }

        function showContactOptions(productName) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white p-8 rounded-2xl max-w-md w-full mx-4 animate-pulse">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">سفارش ${productName}</h3>
                    <p class="text-gray-600 mb-6">برای سفارش این محصول با ما تماس بگیرید:</p>
                    <div class="space-y-3">
                        ${config.shop.phones.map(phone => `
                            <a href="tel:${phone}" class="block w-full p-3 bg-teal-600 text-white rounded-lg text-center hover:bg-teal-700 transition-colors">
                                <i class="fas fa-phone ml-2"></i>
                                ${phone}
                            </a>
                        `).join('')}
                    </div>
                    
                    <button onclick="this.parentElement.parentElement.remove()" class="mt-4 w-full p-3 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors">
                        بستن
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
        }

        function shareProduct(productName) {
            if (navigator.share) {
                navigator.share({
                    title: `${productName} - فروشگاه ${config.shop.name}`,
                    text: `محصول فوق‌العاده ${productName} را در فروشگاه ${config.shop.name} ببینید`,
                    url: window.location.href
                });
            } else {
                // Fallback
                const url = window.location.href;
                navigator.clipboard.writeText(url).then(() => {
                    showNotification('لینک محصول کپی شد!');
                });
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-teal-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 fade-in';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function goBack() {
            window.location.hash = '';
            document.getElementById('product-page').classList.add('hidden');
            document.getElementById('home-page').classList.remove('hidden');
        }

        function scrollToProducts() {
            document.getElementById('products').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        function scrollToContact() {
            document.getElementById('contact').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        function setupRouting() {
            function handleRoute() {
                const hash = window.location.hash;
                
                if (hash.startsWith('#product-')) {
                    const productIndex = parseInt(hash.split('-')[1]);
                    if (productIndex >= 0 && productIndex < config.products.length) {
                        showProductDetail(productIndex);
                    } else {
                        goBack();
                    }
                } else {
                    goBack();
                }
            }
            
            window.addEventListener('hashchange', handleRoute);
            handleRoute();
        }

        function setupNavigation() {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const target = link.getAttribute('href');
                    
                    if (target === '#home') {
                        goBack();
                    } else {
                        goBack();
                        setTimeout(() => {
                            if (target === '#products') {
                                scrollToProducts();
                            } else if (target === '#contact') {
                                scrollToContact();
                            }
                        }, 100);
                    }
                });
            });
            
            document.querySelectorAll('#mobile-menu a').forEach(link => {
                link.addEventListener('click', () => {
                    toggleMobileMenu();
                });
            });
        }

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        function handleScrollAnimations() {
            const elements = document.querySelectorAll('.product-card, .glass-effect');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('slide-in');
                    }
                });
            }, {
                threshold: 0.1
            });
            
            elements.forEach(el => observer.observe(el));
        }

        function startAutoSlide() {
            setInterval(() => {
                Object.keys(currentSliders).forEach(productIndex => {
                    const slider = currentSliders[productIndex];
                    if (slider && slider.totalSlides > 1) {
                        nextSlide(parseInt(productIndex));
                    }
                });
            }, 5000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadConfig();
            handleScrollAnimations();
            startAutoSlide();
        });

        window.addEventListener('load', () => {
            document.body.classList.add('fade-in');
        });
    </script>
</body>
</html>
